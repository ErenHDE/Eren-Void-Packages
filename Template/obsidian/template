# Template file for 'obsidian'
pkgname=obsidian
version=1.11.4
revision=1
archs="x86_64"
depends="glibc libgcc fontconfig bash zlib hicolor-icon-theme fuse electron35"
install=obsidian.install
options=(!strip)
source=("obsidian.sh"
        "obsidian.desktop"
        "LICENSE-Obsidian")
short_desc="A powerful knowledge base that works on top of a local folder of plain text Markdown files"
maintainer="Eren Öztürk <erenozturkhde@gmail.com>"
license="LicenseRef-Obsidian"
homepage="https://obsidian.md"
distfiles="https://github.com/obsidianmd/obsidian-releases/releases/download/v${version}/obsidian-${version}.tar.gz"
checksum=c1be7f7ba84318369de31fcb6bb7033ac74d4e6ce3a20527c37f3b87625c08b3
nostrip=yes

do_install(){
	cd $FILESDIR
	vinstall "$pkgname.sh" 755 /usr/bin
	vinstall "$pkgname.desktop" 644 /usr/share/applications
    cd $wrksrc/resources
    vmkdir /usr/lib/obsidian
    vinstall icon.png 644 /usr/share/pixmaps/ obsidian.png
    find . -type d -exec install -d {,"$DESTDIR"/usr/lib/obsidian/}{} \;
    find . -type f -exec install -D {,"$DESTDIR"/usr/lib/obsidian/}{} \;
    vinstall "${FILESDIR}"/LICENSE-Obsidian 644 /usr/share/licenses/$pkgname/
}
