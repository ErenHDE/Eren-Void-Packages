# Template file for 'patool'
pkgname=patool
version=4.0.3
revision=1
archs="x86_64"
hostmakedepends="python3-build python3-installer python3-setuptools-reproducible python3-wheel python3-argcomplete"
depends="python3"
short_desc="portable command line archive file manager"
maintainer="Eren Öztürk <erenozturkhde@gmail.com>"
license="GPL-3.0-only"
homepage="https://wummel.github.io/patool/"
distfiles="https://github.com/wummel/patool/releases/download/${version}/patool-${version}.tar.gz"
checksum=d7e3d3b69857edd4441061e27254ff1761c9e7a0627562be9eb1fc90cc08770f

do_build(){
	cd $wrksrc
	python -m build --wheel --no-isolation
}

do_install(){
	cd $wrksrc
	python -m installer --destdir="$DESTDIR" dist/*.whl
	vmkdir /usr/share/bash-completion/completions
	register-python-argcomplete patool > "${DESTDIR}/usr/share/bash-completion/completions/patool"
	vinstall 'doc/patool.1' 644 "/usr/share/man/man1"
}
