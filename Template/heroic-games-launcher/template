pkgname=heroic-games-launcher
version=2.19.0
revision=1
archs="x86_64"
hostmakedepends="rpmextract tar"
depends="which"
short_desc="An open-source launcher for Epic, Amazon and GOG Games"
maintainer="Eren Öztürk <erenozturkhde@gmail.com>"
license="GPL-3.0-or-later"
_filename="Heroic-${version}-linux-x86_64.rpm"
homepage="https://heroicgameslauncher.com/"
options="!strip nopie"

nopie_files="
/opt/Heroic/resources/app.asar.unpacked/build/bin/x64/linux/gogdl
/opt/Heroic/resources/app.asar.unpacked/build/bin/x64/linux/legendary
/opt/Heroic/resources/app.asar.unpacked/build/bin/x64/linux/nile
"
distfiles="https://github.com/Heroic-Games-Launcher/HeroicGamesLauncher/releases/download/v${version}/${_filename}"
checksum=2503ff379e3b2083a8dab3a3067f9d9c80977d26a81894351267ff899e29a34a

do_install() {
    vcopy usr .
    vcopy opt .
    vmkdir "/usr/bin"
    ln -s /opt/Heroic/heroic "$DESTDIR/usr/bin/heroic"
}
